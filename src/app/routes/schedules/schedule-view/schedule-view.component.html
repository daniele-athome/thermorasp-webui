
<div class="fc">
  <div class="fc-toolbar fc-header-toolbar">
    <div class="fc-left">
      <h2>
        <i *ngIf="error" class="text-danger ti-alert"></i>
        {{schedule?.name}}
        <app-inline-loading *ngIf="loading" cssClass="lds-ellipsis"></app-inline-loading>
      </h2>
    </div>
    <div class="fc-clear"></div>
  </div>
</div>

<div>
<div #scheduleView class="schedule"></div>
</div>

<div class="schedule-footer">
  <div class="btn-group" role="group" aria-label="Basic example">
    <button [disabled]="loading" (click)="commitActive()" type="button" class="btn btn-primary">Persist</button>
    <button [disabled]="loading" (click)="rollbackActive()" type="button" class="btn btn-danger">Reset</button>
  </div>
</div>

<swal
  #temperatureDialog
  i18n-title
  title="Set temperature"
  type="question"
  customClass="temperature-form"
  [showCancelButton]="true">

  <form *swalPartial (ngSubmit)="submitTemperature(setTemperatureForm)" #setTemperatureForm="ngForm">

    <div class="form-group">
      <label for="tempDialogTemperature" i18n>Temperature</label>
      <input [(ngModel)]="temperatureForm.temperature" #temperature="ngModel"
             type="number" name="temperature" class="form-control" id="tempDialogTemperature" i18n-placeholder placeholder="Desired temperature">
    </div>

    <div>
      <label i18n>Sensors</label>
    </div>

    <div class="form-group">
      <div *ngFor="let sensor of sensors" class="custom-control custom-checkbox">
        <input [(ngModel)]="sensor.checked" #sensor_checked="ngModel"
               type="checkbox" name="sensor_{{sensor.id}}" class="custom-control-input" id="tempDialogSensor_{{sensor.id}}">
        <label class="custom-control-label" for="tempDialogSensor_{{sensor.id}}">{{sensor.id}}</label>
      </div>
    </div>

    <div>
      <label i18n>Devices</label>
    </div>

    <div class="form-group">
      <div *ngFor="let device of devices" class="custom-control custom-checkbox">
        <input [(ngModel)]="device.checked" #device_checked="ngModel"
               type="checkbox" name="device_{{device.id}}" class="custom-control-input" id="tempDialogDevice_{{device.id}}">
        <label class="custom-control-label" for="tempDialogDevice_{{device.id}}">{{device.name}}</label>
      </div>
    </div>

    <div class="form-group">
      <label for="tempDialogOrder" i18n>Order</label>
      <input [(ngModel)]="temperatureForm.order" #order="ngModel"
             type="number" name="order" class="form-control" id="tempDialogOrder" aria-describedby="tempDialogOrderHelp" i18n-placeholder placeholder="Setting priority order">
      <small id="tempDialogOrderHelp" class="form-text text-muted" i18n>The lesser, the more important. Set to zero and setting will disappear when time ends.</small>
    </div>

  </form>

</swal>
